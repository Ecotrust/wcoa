{% load wagtailimages_tags %}

{% if self.link %}
    <a href="{{ self.link }}">
{% endif %}

<div class="col-md-{{ self.width }}" style="background-color: {{ self.background_color }}; border-color: {{ self.border_color }}; border-width: {{ self.border_width }}px; color: {{ self.text_color }}; {% if self.border_width %}border-style: solid;{% endif %}">

    {% image self.background_image max-1000x1000 %}
    
    {% for block in self.content %}
        {{ block }}
    {% endfor %}
</div>

{% if self.link %}
    </a>
{% endif %}